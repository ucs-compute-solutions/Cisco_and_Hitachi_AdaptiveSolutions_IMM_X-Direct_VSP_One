[{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor volume options.","DisplayMeta":{"InventorySelector":false,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Vendor Volume Options","Name":"StorageVendorVolumeOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HitachiVolumeOptionType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume size and unit.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Capacity","Name":"VolumeCapacity","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HitachiCapacityType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"NVM subsystem ID. Specify a value from 0 to 2047.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NVM Subsystem ID","Name":"NvmSubsystemId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":2047,"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Virtual NVM subsystem ID. Specify a value from 0 to 2047. This parameter can be specified when the storage system is a VSP 5000 series. If this parameter is omitted, the same value as for the NVM Subsystem ID parameter is set.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual NVM Subsystem ID","Name":"VirtualNvmSubsystemId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":2047,"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Specify the NVM subsystem name consisting of 1 to 32 characters. You can use the following characters. \"Alphanumeric characters\", \"The following symbols: ! # $ % & ' ( ) + - . = @ _ [ ] ^ { } ~ (The label cannot start with a hyphen)\", \"Spaces (The label cannot start or end with a space.)\" If this parameter is omitted, a value is automatically set.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NVM Subsystem Name","Name":"NvmSubsystemName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":32,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9!#$%&'()+.=@_\\[\\]^{}~]+([a-zA-Z0-9!#$%&'()+-.=@_\\[\\]^{}~ ]*[a-zA-Z0-9!#$%&'()+-.=@_\\[\\]^{}~])*$"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host mode of the NVM subsystem. If this parameter is omitted, LINUX/IRIX is set.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host Mode","Name":"HostMode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"LINUX/IRIX","ObjectType":"workflow.EnumEntry","Value":"LINUX/IRIX"},{"Label":"VMWARE","ObjectType":"workflow.EnumEntry","Value":"VMWARE"},{"Label":"VMWARE_EX","ObjectType":"workflow.EnumEntry","Value":"VMWARE_EX"},{"Label":"AIX","ObjectType":"workflow.EnumEntry","Value":"AIX"}],"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Number of the host mode option set for the NVM subsystem. For the specifiable numbers, see the provisioning guide for Open Systems, or the Provisioning Guide. When specifying this parameter, make sure to also specify the Host Mode parameter.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host Mode Options","Max":50,"Name":"HostModeOptions","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Namespace security settings. \"Checked\": Enabled. \"Not checked\": Disabled.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Namespace Security Setting","Name":"isNamespaceSecuritySetting","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Port number to be set as the NVM subsystem port. Specify a port for which the operation mode is FC-NVMe or NVMe over TCP.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Port Id","Name":"PortId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/HitachiPorts?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Continuing from \"nqn.\", write the entire string by using no more than 233 characters. You can use the following characters: Alphanumeric characters (lowercase), hyphens (-), periods (.), and colons (:)","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host NQN","Name":"HostNqn","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":223,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^(nqn\\.[0-9a-z-.:]{1,219})$"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"For the VSP 5000 series, specify a value from 1 to 4096. For VSP One B20, VSP E1090, and VSP E1090H, specify a value from 1 to 2048.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Namespace ID","Name":"NamespaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":4096,"Min":1,"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true}],"InputParameterSet":[],"Label":"Hitachi_VSP_NVMe-OF_Sequence","Name":"Hitachi_VSP_NVMe-OF_Sequence","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"DataSourceSelector":[],"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HitachiVolumeNameType","ObjectType":"workflow.CustomDataProperty"}}],"Properties":{"ObjectType":"workflow.WorkflowProperties","PublishStatus":"Draft","SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"platformType.HitachiVirtualStoragePlatform","Value":"true"}],"Tasks":[{"Name":"StartTask","NextTask":"NewHitachiVolume1","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Create a storage volume with volume name and volume size as inputs. Generates the volume name and volume size as outputs.","InputParameters":{"StorageDevice":"${workflow.input.StorageDevice}","StorageVendorVolumeOptions":"${workflow.input.StorageVendorVolumeOptions}","VolumeCapacity":"${workflow.input.VolumeCapacity}"},"Label":"New Hitachi Volume","Name":"NewHitachiVolume1","ObjectType":"workflow.WorkerTask","OnSuccess":"NewHitachiNvmSubsystem1","TaskDefinitionName":"NewHitachiVolume","Version":4},{"CatalogMoid":"shared","Description":"Create an NVM subsystem as a resource for managing system configuration elements. By setting port and volume information in the NVM subsystem, you enable access from a host to a volume. When you create an NVM subsystem, you can also set the host mode and namespace security at the same time. This Task can be used when the storage system is VSP One B20, VSP 5000 series, VSP E1090, VSP E1090H.","InputParameters":{"HostMode":"${workflow.input.HostMode}","HostModeOptions":"${workflow.input.HostModeOptions}","NvmSubsystemId":"${workflow.input.NvmSubsystemId}","NvmSubsystemName":"${workflow.input.NvmSubsystemName}","StorageDevice":"${workflow.input.StorageDevice}","VirtualNvmSubsystemId":"${workflow.input.VirtualNvmSubsystemId}","isNamespaceSecuritySetting":"${workflow.input.isNamespaceSecuritySetting}"},"Label":"New Hitachi NVM Subsystem","Name":"NewHitachiNvmSubsystem1","ObjectType":"workflow.WorkerTask","OnSuccess":"NewHitachiNvmSubsystemPort1","TaskDefinitionName":"NewHitachiNvmSubsystem","Version":1},{"CatalogMoid":"shared","Description":"Set an NVM subsystem port for the NVM subsystem. This Task can be used when the storage system is VSP One B20, VSP 5000 series, VSP E1090, VSP E1090H.","InputParameters":{"NvmSubsystemId":"${workflow.input.NvmSubsystemId}","PortId":"${workflow.input.PortId}","StorageDevice":"${workflow.input.StorageDevice}"},"Label":"New Hitachi NVM Subsystem Port","Name":"NewHitachiNvmSubsystemPort1","ObjectType":"workflow.WorkerTask","OnSuccess":"AddHitachiHostNqn1","TaskDefinitionName":"NewHitachiNvmSubsystemPort","Version":1},{"CatalogMoid":"shared","Description":"Register a host NQN in an NVM subsystem. This Task can be used when the storage system is VSP One B20, VSP 5000 series, VSP E1090, VSP E1090H.","InputParameters":{"HostNqn":"${workflow.input.HostNqn}","NvmSubsystemId":"${workflow.input.NvmSubsystemId}","StorageDevice":"${workflow.input.StorageDevice}"},"Label":"Add Hitachi Host NQN","Name":"AddHitachiHostNqn1","ObjectType":"workflow.WorkerTask","OnSuccess":"NewHitachiNamespace1","TaskDefinitionName":"AddHitachiHostNqn","Version":1},{"CatalogMoid":"shared","Description":"Create a namespace in the NVM subsystem by using a specified LDEV number. This Task can be used when the storage system is VSP One B20, VSP 5000 series, VSP E1090, VSP E1090H.","InputParameters":{"NamespaceId":"${workflow.input.NamespaceId}","NvmSubsystemId":"${workflow.input.NvmSubsystemId}","StorageDevice":"${workflow.input.StorageDevice}","VolumeName":"${NewHitachiVolume1.output.VolumeName}"},"Label":"New Hitachi Namespace","Name":"NewHitachiNamespace1","ObjectType":"workflow.WorkerTask","OnSuccess":"NewHitachiHostNamespacePath1","TaskDefinitionName":"NewHitachiNamespace","Version":1},{"CatalogMoid":"shared","Description":"Set the host-namespace path (information about the relation of the namespace and host NQN). This Task can be used when the storage system is VSP One B20, VSP 5000 series, VSP E1090, VSP E1090H.","InputParameters":{"HostNqn":"${workflow.input.HostNqn}","NamespaceId":"${workflow.input.NamespaceId}","NvmSubsystemId":"${workflow.input.NvmSubsystemId}","StorageDevice":"${workflow.input.StorageDevice}"},"Label":"New Hitachi Host-Namespace Path","Name":"NewHitachiHostNamespacePath1","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"NewHitachiHostNamespacePath","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":263.5,"Y":79},{"Name":"SuccessEndTask","X":263.5,"Y":737},{"Name":"FailureEndTask","X":406.5,"Y":737},{"Name":"NewHitachiVolume1","X":178.5,"Y":155},{"Name":"NewHitachiNvmSubsystem1","X":178.5,"Y":252},{"Name":"NewHitachiNvmSubsystemPort1","X":178.5,"Y":349},{"Name":"AddHitachiHostNqn1","X":178.5,"Y":446},{"Name":"NewHitachiNamespace1","X":178.5,"Y":543},{"Name":"NewHitachiHostNamespacePath1","X":178.5,"Y":640}]},"VariableDefinition":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"}]